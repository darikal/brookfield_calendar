<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="styles.css">
<title>Brookfield Events Calendar [Alpha]</title>
</head>
<body>
<div class="wrapper">
  <div class="container-calendar">
    <div id="left">
      <h1>Brookfield Events Calendar [Alpha]</h1>

      <div id="event-section">
        <h3>Add Event</h3>
        <select id="eventTypeMajor" onchange="toggleTitleDiv()">
          <option value="" hidden>--- Event Type ---</option>
          <option value="socialCommitteeEvent">Social Committee Hosted Event</option>
          <option value="smallGroup">Small Group Event</option>
          <option value="reservedPaid">Paid Reservation</option>
          <option value="noSocialnoPaid">Large Group Event</option>
        </select>

        <div id="eventDetailsWrapper" style="display:none;">
          <input type="date" id="eventDate">

          <div class="time-input">
            <label for="startTime">Start Time:</label>
            <input type="time" id="startTime" min="07:30" max="19:00">
            <label for="endTime">End Time:</label>
            <input type="time" id="endTime" min="08:15" max="19:45">
          </div>

          <div class="group-size-wrapper">
            <label for="groupSize">Approximate size of group [max 180]</label>
            <input type="text" id="groupSize" placeholder="10-15" maxlength="5">
          </div>

          <div id="recurBox">
            <label for="recurCheckbox">Recurring Event</label>
            <input type="checkbox" id="recurCheckbox">
          </div>

          <div id="recurring" style="display:none;">
            <br>
            <select id="recurWhen">
              <option value="week">Weekly</option>
              <option value="month">Monthly</option>
              <option value="biWeek">Bi-Weekly</option>
            </select>

            <label for="dayOfWeek">Starting on: </label>
            <select id="dayOfWeek">
              <option value="sunday">Sunday</option>
              <option value="monday">Monday</option>
              <option value="tuesday">Tuesday</option>
              <option value="wednesday">Wednesday</option>
              <option value="thursday">Thursday</option>
              <option value="friday">Friday</option>
              <option value="saturday">Saturday</option>
            </select>
            <br>
            <label>For the next </label>
            <input type="number" id="recurLengthNum" placeholder="10" max="52">
            <select id="recurLength">
              <option value="week">Weeks</option>
              <option value="month">Months</option>
            </select>
          </div>

          <div class="contactDiv" id="contactDiv">
            <input type="text" id="contactName" placeholder="Name of contact person">
            <input type="text" id="contactInfo" placeholder="email or phone #">
          </div>

          <div id="titleDiv">
            <input type="text" id="eventTitle" placeholder="Event Title">
          </div>

          <input type="text" id="eventDescription" placeholder="Event Description">

          <div id="paidInfo" style="display:none;">
            <input type="text" id="residentName" placeholder="Name of Resident">
            <input type="text" id="contactNamePaid" placeholder="Contact Name (if different)">
            <input type="text" id="residentAddress" placeholder="Address of Resident">
            <br>
            <div id="termsWrapper" style="margin-top:10px;">
              <label>
                <input type="checkbox" id="acceptTerms">
                I accept the <a href="#" target="_blank">Terms and Conditions</a>
              </label>
              <textarea readonly rows="5" style="width:100%; margin-top:5px;">
Full terms and conditions text for paid reservations. Users must read this before accepting.
              </textarea>
            </div>
          </div>

          <select id="walkInWelcome" onchange="toggleDiv()">
            <option value="" hidden>--- Are Walk Ins Welcome ---</option>
            <option value="Open">Open to walk ins</option>
            <option value="Closed">Closed to walk ins</option>
            <option value="Other">Other - specify</option>
            <option id="signUpRequired" value="signUpRequired" hidden>Signup Required</option>
          </select>

          <div id="eventOther" style="display:none;">
            <input type="text" id="eventType" placeholder="Email {name} | call {name}">
          </div>
          <div id="signUpField" style="display:none;">
            <input type="text" id="signUp" placeholder="Contact {name} at {email}">
          </div>

          <button id="addEvent">Submit</button>
        </div>
      </div>

      <div id="reminder-section">
        <h3>Events & Reservations</h3>
        <ul id="reminderList"></ul>
      </div>
    </div>

    <div id="right">
      <h3 id="monthAndYear"></h3>
      <div class="button-container-calendar">
        <button id="previous" onclick="previousMonth()">‹</button>
        <button id="next" onclick="nextMonth()">›</button>
      </div>

      <table class="table-calendar" id="calendar" data-lang="en">
        <thead id="thead-month"></thead>
        <tbody id="calendar-body"></tbody>
      </table>

      <div class="footer-container-calendar">
        <label for="month">Jump To: </label>
        <select id="month" onchange="jumpToMonthYear()"></select>
        <select id="year" onchange="jumpToMonthYear()"></select>
      </div>
    </div>
  </div>
</div>

<script src="script.js" defer></script>
<script>
  // Populate month/year selects dynamically using existing variables from script.js
  const monthSelect = document.getElementById("month");
  const yearSelect = document.getElementById("year");
  const monthNames = ["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];

  monthNames.forEach((m,i) => { const opt = document.createElement("option"); opt.value = i; opt.text = m; monthSelect.add(opt); });
  for(let y = currentYear - 5; y <= currentYear + 5; y++) { const opt = document.createElement("option"); opt.value = y; opt.text = y; yearSelect.add(opt); }

  monthSelect.value = currentMonth;
  yearSelect.value = currentYear;
</script>
</body>
</html>
